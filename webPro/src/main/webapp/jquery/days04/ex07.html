<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>2025. 5. 13. 오후 4:24:00</title>
	<link rel="shortcut icon" type="image/x-icon" href="http://localhost/webPro/images/SiSt.ico">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<link rel="stylesheet" href="http://localhost/webPro/resources/cdn-main/example.css">
	<script src="http://localhost/webPro/resources/cdn-main/example.js"></script>
	<style>
		span.material-symbols-outlined {
			vertical-align: text-bottom;
		}

		tbody tr td:first-child {
			text-align: center;
		}
	</style>
</head>

<body>
	<header>
		<h1 class="main"><a href="#" style="position: absolute;top:30px;">kEnik HOme</a></h1>
		<ul>
			<li><a href="#">로그인</a></li>
			<li><a href="#">회원가입</a></li>
		</ul>
	</header>
	<div>
		<xmp class="code">

		</xmp>
		<!-- 
  table#tblDept>(thead>tr>th*3>lorem1)+(tbody>tr*4>td*3>lorem1)+(tfoot>tr>td[colspan=3]>button)
   -->

		<table id="tblDept">
			<thead>
				<tr>
					<th><input type="checkbox" class="all"> 모두 선택</th>
					<th>이름</th>
					<th>지역</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><input type="checkbox" id="ck1"></td>
					<td>Laudantium!</td>
					<td>Sint!</td>
				</tr>
				<tr>
					<td><input type="checkbox" id="ck2"></td>
					<td>Voluptatem?</td>
					<td>Animi!</td>
				</tr>
				<tr>
					<td><input type="checkbox" id="ck3"></td>
					<td>Architecto!</td>
					<td>Odit!</td>
				</tr>
				<tr>
					<td><input type="checkbox" id="ck4"></td>
					<td>Numquam!</td>
					<td>Molestiae.</td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<td colspan="3" align="center">
						<button>선택 확인</button>
					</td>
				</tr>
			</tfoot>
		</table>
		<ul id="demo"></ul>
	</div>

	<script>
		// jquery
		// jquery selector    input[type=checkbox]  == :checkbox
		// 모두 선택 기능
		$(":checkbox.all").on("click", function () {
			$(":checkbox:not(.all)").prop("checked"
				, $(this).prop("checked"));
		});

		// 개별 체크 시 모두선택 체크 여부 갱신
		$(":checkbox:not(.all)").on("click", function () {
			let 전체갯수 = $(":checkbox:not(.all)").length;
			let 체크된갯수 = $(":checkbox:not(.all):checked").length;
			$(":checkbox.all").prop("checked", 전체갯수 == 체크된갯수 ? true : false);
		});

		// ✅ 선택 확인 버튼 클릭 시 이름 + 지역 출력
		$("tfoot button").on("click", function () {
			let result = "";

			$("#tblDept tbody input[type=checkbox]:checked").each(function () {
				const $tr = $(this).closest("tr");
				const name = $tr.find("td").eq(1).text();
				const region = $tr.find("td").eq(2).text();
				const id = $(this).attr("id");

				result += `<li>${id} / 이름: ${name} / 지역: ${region}</li>`;
			});

			$("#demo").html(result || "<li>선택된 항목이 없습니다.</li>");

		});
	</script>

	<script> //강사님
		// $("#tblDept > tfoot > tr > td > button").on("click", function () {
		// 	const ul = $("<ul></ul>");
		// 	// 체크된 체크박스만 얻어와서 반복처리.
		// 	$(":checkbox:not(.all):checked").each(function (index, element) {
		// 		let name = $(element).parent().next().text();
		// 		ul.append($(`<li>${element.id} / ${name}</li>`));
		// 	});
		// 	$("#demo")
		// 		.empty()
		// 		.append(ul);
		// });     
	</script>


</body>

</html>